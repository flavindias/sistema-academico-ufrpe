CREATE TABLE DATAS ( 
ID INT UNSIGNED AUTO_INCREMENT, 
DAT DATE NOT NULL, 
HORA TIME NOT NULL, 
PRIMARY KEY(ID) ); 

CREATE TABLE ENDERECO (
ID INT UNSIGNED AUTO_INCREMENT, 
RUA VARCHAR(40) NOT NULL, 
NUM INT UNSIGNED, 
BAIRRO VARCHAR(20) NOT NULL, 
CIDADE VARCHAR(20) NOT NULL, 
UF CHAR(2) NOT NULL, 
CEP CHAR(8) NOT NULL, 
COMPLEMENTO VARCHAR(20),
PRIMARY KEY(ID), 
INDEX INDEX_BAIRRO(BAIRRO), 
INDEX INDEX_CIDADE(CIDADE) ); 

CREATE TABLE DADOS_PESSOAIS ( 
DOCUMENTO CHAR(11) NOT NULL, 
NOME VARCHAR(40) NOT NULL, 
SEXO BOOL NOT NULL, 
CELULAR CHAR(10), 
FIXO CHAR(10), 
DATA_NASC INT UNSIGNED NOT NULL, 
ENDERECO INT UNSIGNED NOT NULL, 
PRIMARY KEY(DOCUMENTO), 
INDEX INDEX_NOME(NOME), 
CONSTRAINT FK_DATA_NASC FOREIGN KEY(DATA_NASC) REFERENCES DATAS(ID), 
CONSTRAINT FK_ENDERECO FOREIGN KEY(ENDERECO) REFERENCES ENDERECO(ID) ); 

CREATE TABLE LOGIN ( 
USUARIO CHAR(11) NOT NULL, 
SENHA VARCHAR(30) NOT NULL, 
TIPO CHAR(3) NOT NULL, 
PRIMARY KEY(USUARIO), 
CONSTRAINT FK_USUARIO FOREIGN KEY(USUARIO) REFERENCES DADOS_PESSOAIS(DOCUMENTO) ); 

CREATE TABLE ESCOLA ( 
RAZAO_SOCIAL VARCHAR(40) NOT NULL, 
CNPJ CHAR(14) NOT NULL, 
PROPRIETARIO CHAR(11) NOT NULL, 
ENDERECO INT UNSIGNED NOT NULL ); 

CREATE TABLE PROFESSOR ( 
ID INT UNSIGNED AUTO_INCREMENT, 
DADOS CHAR(11) NOT NULL, 
LOGIN CHAR(11) NOT NULL, 
PRIMARY KEY(ID), 
INDEX INDEX_DADOS(DADOS), 
CONSTRAINT FK_DADOS FOREIGN KEY(DADOS) REFERENCES DADOS_PESSOAIS(DOCUMENTOS), 
CONSTRAINT FK_LOGIN FOREIGN KEY(LOGIN) REFERENCES LOGIN(USUARIO) ); 

CREATE TABLE DISCIPLINA ( 
ID INT UNSIGNED AUTO_INCREMENT, 
NOME  VARCHAR(40) NOT NULL, 
PROFESSOR INT UNSIGNED NOT NULL, 
PRIMARY KEY(ID), 
INDEX INDEX_NOME(NOME), 
CONSTRAINT FK_PROFESSOR FOREIGN KEY(NOME) REFERENCES PROFESSOR(ID) ); 

CREATE TABLE TURMA ( 
ID INT UNSIGNED AUTO_INCREMENT, 
ANO TINYINT UNSIGNED NOT NULL, 
TURNO CHAR(1) NOT NULL, 
DISC1 INT UNSIGNED NOT NULL, 
DISC2 INT UNSIGNED NOT NULL, 
DISC3 INT UNSIGNED NOT NULL, 
DISC4 INT UNSIGNED NOT NULL, 
DISC5 INT UNSIGNED NOT NULL, 
DISC6 INT UNSIGNED, 
DISC7 INT UNSIGNED, 
PRIMARY KEY(ID), 
INDEX INDEX_ANO(ANO), 
INDEX INDEX_TURNO(TURNO), 
CONSTRAINT FK_DISC1 FOREIGN KEY(DISC1) REFERENCES DISCIPLINA(ID), 
CONSTRAINT FK_DISC2 FOREIGN KEY(DISC2) REFERENCES DISCIPLINA(ID), 
CONSTRAINT FK_DISC3 FOREIGN KEY(DISC3) REFERENCES DISCIPLINA(ID), 
CONSTRAINT FK_DISC4 FOREIGN KEY(DISC4) REFERENCES DISCIPLINA(ID), 
CONSTRAINT FK_DISC5 FOREIGN KEY(DISC5) REFERENCES DISCIPLINA(ID), 
CONSTRAINT FK_DISC6 FOREIGN KEY(DISC6) REFERENCES DISCIPLINA(ID), 
CONSTRAINT FK_DISC7 FOREIGN KEY(DISC7) REFERENCES DISCIPLINA(ID) ); 

CREATE TABLE ALUNO ( 
MATRICULA INT(6) ZEROFILL UNSIGNED AUTO_INCREMENT, 
DADOS CHAR(11) NOT NULL, 
SITUACAO CHAR(3) NOT NULL, 
LOGIN CHAR(11) NOT NULL,
TURMA INT UNSIGNED NOT NULL, 
PRIMARY KEY(MATRICULA), 
INDEX INDEX_DADOS(DADOS), 
CONSTRAINT FK_DADOS FOREIGN KEY(DADOS) REFERENCES DADOS_PESSOAIS(DOCUMENTO), 
CONSTRAINT FK_LOGIN FOREIGN KEY(LOGIN) REFERENCES LOGIN(USUARIO), 
CONSTRAINT FK_TURMA FOREIGN KEY(TURMA) REFERENCES TURMA(ID) ); 

CREATE TABLE RESPONSAVEL ( 
ID INT UNSIGNED AUTO_INCREMENT, 
DADOS CHAR(11) NOT NULL, 
LOGIN CHAR(11) NOT NULL, 
PRIMARY KEY(ID), 
INDEX INDEX_DADOS(DADOS), 
CONSTRAINT FK_DADOS FOREIGN KEY(DADOS) REFERENCES DADOS_PESSOAIS(DOCUMENTOS),  
CONSTRAINT FK_LOGIN FOREIGN KEY(LOGIN) REFERENCES LOGIN(USUARIO) ); 

CREATE TABLE COORDENADOR ( 
ID INT UNSIGNED AUTO_INCREMENT, 
DADOS CHAR(11) NOT NULL, 
LOGIN CHAR(11) NOT NULL, 
PRIMARY KEY(ID), 
INDEX INDEX_DADOS(DADOS), 
CONSTRAINT FK_DADOS FOREIGN KEY(DADOS) REFERENCES DADOS_PESSOAIS(DOCUMENTOS), 
CONSTRAINT FK_LOGIN FOREIGN KEY(LOGIN) REFERENCES LOGIN(USUARIO) ); 

CREATE TABLE RESPONSABILIDADE ( 
RESPONSAVEL INT UNSIGNED NOT NULL, 
ALUNO INT UNSIGNED NOT NULL, 
CONSTRAINT FK_RESPONSAVEL FOREIGN KEY(RESPONSAVEL) REFERENCES RESPONSAVEL(ID), 
CONSTRAINT FK_ALUNO FOREIGN KEY(ALUNO) REFERENCES ALUNO(MATRICULA) ); 

CREATE TABLE NOTA ( 
ID INT UNSIGNED AUTO_INCREMENT, 
DISCIPLINA INT UNSIGNED NOT NULL, 
ALUNO INT UNSIGNED NOT NULL,
UNIDADE TINYINT UNSIGNED NOT NULL, 
VALOR FLOAT, 
PRIMARY KEY(ID), 
INDEX INDEX_UNIDADE(UNIDADE), 
INDEX INDEX_VALOR(VALOR), 
CONSTRAINT FK_DISCIPLINA FOREIGN KEY(DISCIPLINA) REFERENCES DISCIPLINA(ID), 
CONSTRAINT FK_ALUNO FOREIGN KEY(ALUNO) REFERENCES ALUNO(MATRICULA) ); 

CREATE TABLE FALTA ( 
ID INT UNSIGNED AUTO_INCREMENT, 
DISCIPLINA INT UNSIGNED NOT NULL, 
ALUNO INT UNSIGNED NOT NULL,
UNIDADE TINYINT UNSIGNED NOT NULL, 
QTDE INT, 
PRIMARY KEY(ID), 
INDEX INDEX_QTDE(QTDE), 
INDEX INDEX_VALOR(VALOR), 
CONSTRAINT FK_DISCIPLINA FOREIGN KEY(DISCIPLINA) REFERENCES DISCIPLINA(ID), 
CONSTRAINT FK_ALUNO FOREIGN KEY(ALUNO) REFERENCES ALUNO(MATRICULA) ); 

CREATE TABLE HORARIO ( 
DISCIPLINA INT UNSIGNED NOT NULL, 
DIA_AULA1 CHAR(3) NOT NULL, 
DIA_AULA2 CHAR(3), 
HORA_AULA1 TIME NOT NULL, 
HORA_AULA2 TIME, 
PRIMARY KEY(DISCIPLINA), 
CONSTRAINT FK_DISCIPLINA FOREIGN KEY(DISCIPLINA) REFERENCES DISCIPLINA(ID) ); 